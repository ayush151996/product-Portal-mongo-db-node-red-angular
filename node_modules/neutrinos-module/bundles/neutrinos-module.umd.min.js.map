{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/services/n-fileIO.service.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/directive.class.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-camera.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-download.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-scanner.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-video.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-barcode.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-tts.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-fingerprint.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-ocr.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/directives/n-shake.directive.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-file/fileUpload/n-fileUpload.component.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-components/nAlertComponent/n-alert.component.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-components/nAlertComponent/n-alert.service.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-components/nToggleoptionsComponent/n-toggleoptions.component.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos-components/nSignatureComponent/n-signature.component.ts","ng://neutrinos-module/src/app/neutrinos-module/neutrinos.module.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","metadataKey","metadataValue","metadata","NFileIOService","http","_this","this","checkFileExist","path","fileName","callback","window","resolveLocalFileSystemURL","lastIndexOf","isExist","parseInt","slice","isNaN","systemService","NSystemService","getInstance","appProperties","getVal","prototype","getFileInfo","options","dataModelURL","getDataModelUrl","appName","entityName","fileId","get","getFormData","fileUri","Promise","resolve","reject","fileEntry","file","reader","FileReader","onerror","evt","onloadend","formData","FormData","blob","Blob","Uint8Array","result","type","append","name","readAsArrayBuffer","error","getPicture","cameraOptions","document","addEventListener","navigator","camera","imageUri","then","res","catch","err","scanPicture","scanOptions","hasOwnProperty","scan","scanDoc","sourceType","doUpload","getBarcode","barcodeOptions","cordova","plugins","barcodeScanner","cancelled","getVideo","videoOptions","device","capture","captureVideo","mediaFiles","fullPath","getTts","ttsOptions","TTS","speak","reason","getShake","shakeOptions","start","shake","startWatch","sensitivity","stopWatch","getOcr","ocrOptions","imageData","textocr","recText","uriOrBase","returnType","recognizedText","message","getFingerprint","fingerprintOptions","Fingerprint","isAvailable","show","upload","body","files","JSON","stringify","url","getFileIOUrl","temp_headers","headers","setHeaders","Content-Type","post","subscribe","download","fileInfo","contentType","filename","fileIOURL","Accept","responseType","response","saveFile","resp","data","checkDevice","storageLocation","isAndroid","externalRootDirectory","documentsDirectory","createDirectory","saveToBrowser","StyleMedia","msSaveBlob","downloadURL","URL","createObjectURL","anchor","createElement","appendChild","style","display","href","click","revokeObjectURL","removeChild","remove","rootDirectory","fileSystem","getDirectory","create","dirEntry","nativeURL","newFileName","getFile","targetFile","createWriter","fileWriter","onwriteend","toURL","write","headerJSON","HttpHeaders","set","Injectable","HttpClient","NDirectiveOptions","NCameraDirective","fsv","onsuccess","EventEmitter","methodToHandleMouseClickAction","sucess","emit","uri","tslib_1.__decorate","Input","Output","HostListener","Directive","selector","NDownloadDirective","downloadFile","downloadOptions","NScanDirective","NVideoDirective","NBarcodeDirective","NTtsDirective","NFingerprintDirective","NOcrDirective","NShakeDirective","NFileUploadComponent","fileIOService","_renderer","handleUpload","isDone","uploadOptions","Error","handleSelect","fileInput","cancel","setProperty","disableFileUploadButton","disableButton","ViewChild","static","Component","template","Renderer2","NAlertComponent","dialogRef","messageContent","NAlertComponent_1","titleContent","title","MatDialogRef","NAlertService","dialog","alert","open","MatDialog","NToggleoptionsComponent","toggleOptions","align","indexChange","valueChange","ngOnInit","checkNumber","checkedIndex","Number","disabledIndex","ngOnChanges","changes","optionClicked","index","value","number","NSignatureComponent","imageDataValue","signaturePad","mode","canvasMode","imageDataChange","val","isDataURL","saveCavas","ngAfterViewInit","createCanvas","fitToContainer","signaturecanvas","nativeElement","signing.default","assignOptions","dataUrl","isEmpty","savedData","clear","fromDataURL","toData","toDataURL","hideCanvas","clearCanvas","undoCanvas","pop","fromData","showCanvas","classAbs","clientHeight","clientWidth","createCanvasFromData","assign","previousSavedData","element","height","width","offsetWidth","offsetHeight","checkIfValidValueAndRGB","backgroundColor","checkIfValidValueAndNumber","dotSize","minWidth","maxWidth","throttle","minDistance","penColor","velocityFilterWeight","parse","checkIfValidValueAndFunction","onBegin","onEnd","num","checkIfValid","invalidToast","color","checkRGB","fn","checkIfValidFunction","undefined","checkIsNan","matchColors1","RegExp","matchColors2","matchColors3","test","optionName","optionType","s","match","EXPORTS","NeutrinosModule","NgModule","imports","HttpClientModule","FormsModule","CommonModule","MatIconModule","MatDialogModule","MatButtonModule","BrowserAnimationsModule","MatButtonToggleModule","NeutrinosSeedServicesModule","FlexLayoutModule","declarations","exports","providers","entryComponents"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n// import { SystemService } from 'app/service/system.service';\nimport { NSystemService} from 'neutrinos-seed-services';\n// import { RequestOptions } from '@angular/http';\n\n\ndeclare const window: any;\ndeclare const cordova: any;\ndeclare const navigator: any;\ndeclare const scan: any;\ndeclare const textocr: any;\ndeclare const TTS: any;\ndeclare const shake: any;\ndeclare const Fingerprint: any;\n\n@Injectable()\nexport class NFileIOService {\n  systemService;\n  appProperties;\n\n  constructor(private http: HttpClient) {\n    this.systemService = NSystemService.getInstance();\n    this.appProperties = this.systemService.getVal('properties');\n  }\n\n  private getFileInfo(options): any {\n    let dataModelURL = this.systemService.getDataModelUrl();\n    if (options.metadata) {\n      dataModelURL += `${this.appProperties.appName}_${options.entityName}.files?filter={\"metadata.key\": \"${options.metadata.key}\"}`;\n    } else {\n      dataModelURL += `${this.appProperties.appName}_${options.entityName}.files/${options.fileId}`;\n    }\n    return this.http.get(dataModelURL);\n  }\n\n  private getFormData(fileUri: string): Promise<FormData> {\n    return new Promise((resolve, reject) => {\n      window.resolveLocalFileSystemURL(fileUri, (fileEntry) => {\n        fileEntry.file((file) => {\n          const reader = new FileReader();\n          reader.onerror = evt => {\n            return reject(evt);\n          };\n          reader.onloadend = evt => {\n            const formData = new FormData();\n            const blob = new Blob([new Uint8Array(<any>reader.result)], { type: file.type });\n            formData.append('file', blob, file.name);\n            return resolve(formData);\n          };\n          reader.readAsArrayBuffer(file);\n        });\n      }, (error) => {\n        return reject(error);\n      });\n    });\n  }\n\n  public getPicture(cameraOptions) {\n    return new Promise((resolve, reject) => {\n      document.addEventListener('deviceready', () => {\n        navigator.camera.getPicture((imageUri) => {\n          this.getFormData(imageUri).then(res => {\n            return resolve(res);\n          }).catch(err => reject(err));\n        }, (error) => {\n          return reject(error);\n        }, cameraOptions);\n      }, false);\n    });\n  }\n\n  public scanPicture(scanOptions) {\n    return new Promise((resolve, reject) => {\n      document.addEventListener('deviceready', () => {\n        if(scanOptions.hasOwnProperty('sourceType') && scanOptions.hasOwnProperty('doUpload')) {\n          scan.scanDoc(scanOptions.sourceType, (imageUri) => {\n            if (scanOptions.doUpload) {\n                this.getFormData(imageUri).then(res => {\n                  return resolve(res);\n                }).catch(err => reject(err));\n            }\n            else {\n                resolve(imageUri);\n            }\n          }, (error) => {\n            return reject(error);\n          });\n        } else {\n          reject('sourceType not found');\n        }\n      }, false);\n    });\n  }\n\n//Barcode\n  public getBarcode(barcodeOptions) {\n    return new Promise((resolve, reject) => {\n      document.addEventListener('deviceready', () => {\n        cordova.plugins.barcodeScanner.scan((result)=> {\n          if(result.cancelled) {\n            return reject(result);\n          } else {\n            return resolve(result);\n          }\n        }, (error)=> {\n          return reject(error);\n        }, barcodeOptions);\n      }, false);\n    });\n  }\n\n//Video\n  public getVideo(videoOptions) {\n    return new Promise((resolve, reject) => {\n      document.addEventListener('deviceready', () => {\n        navigator.device.capture.captureVideo((mediaFiles) => {\n          var imageUri = mediaFiles[0].fullPath;        \n          this.getFormData(imageUri).then(res => {\n            return resolve(res);\n          }).catch(err => reject(err));\n        }, (error) => {\n          return reject(error);\n        }, {});\n      }, false);\n    });\n  }\n\n//tts\n  public getTts(ttsOptions) {\n    return new Promise((resolve, reject) => {\n      document.addEventListener('deviceready', () => {\n        if(ttsOptions.hasOwnProperty('text')) {\n          TTS.speak(ttsOptions).then(() => {\n            return resolve('success');\n          }, (reason) => {\n            return reject(reason);\n          });\n        } else {\n          reject('text not found');\n        }\n      }, false);\n    });\n  }\n\n//shake\n  public getShake(shakeOptions) {\n    return new Promise((resolve, reject) => {\n      document.addEventListener('deviceready', () => {\n        if(shakeOptions.hasOwnProperty('start') && shakeOptions.hasOwnProperty('sensitivity')) {\n          if(shakeOptions.start) {\n            shake.startWatch(() => {\n              return resolve('success');\n            }, shakeOptions.sensitivity, () => {\n              return reject('error');\n            });\n          } else {\n            shake.stopWatch();\n          }\n        } else {\n          reject('start or sensitivity not found');\n        }\n      }, false);\n    });\n  }\n\n//ocr\n  public getOcr(ocrOptions) {\n      return new Promise((resolve, reject) => {\n        document.addEventListener('deviceready', () => {\n          if(ocrOptions.hasOwnProperty('uriOrBase') && ocrOptions.hasOwnProperty('returnType')) {\n            navigator.camera.getPicture((imageData) => {\n                textocr.recText(ocrOptions.uriOrBase, ocrOptions.returnType, imageData, (recognizedText) => {\n                return resolve(recognizedText);\n              }, (message) => {\n                return reject(message);\n              });\n            }, (message) => {\n              return reject(message);\n            }, ocrOptions); \n          } else {\n            reject('uriOrBase or returnType not found');\n          }\n \n        }, false);\n    });\n  }\n\n\n//fingerprint\n  public getFingerprint(fingerprintOptions) {\n    return new Promise((resolve, reject) => {\n      document.addEventListener('deviceready', () => {\n        if(fingerprintOptions.hasOwnProperty('clientId') && fingerprintOptions.hasOwnProperty('clientSecret')) {\n          Fingerprint.isAvailable((result) => {\n            Fingerprint.show(fingerprintOptions, () => {\n              return resolve('success');\n            }, (err) => {\n              return reject(err);\n            });\n          }, (message) => {\n            return reject(message);\n          });\n        } else {\n          reject('clientId or clientSecret not found');\n        }\n      }, false);\n    });\n  }\n\n  public upload(options): Promise<any> {\n    return new Promise((resolve, reject) => {\n      let body: FormData = new FormData();\n      if (options.formData) {\n        body = options.formData;\n      } else if (options.files) {\n        body.append('file', options.files);\n      } else {\n        reject('No file selected!');\n      }\n      if (options.metadata) {\n        body.append('metadata', JSON.stringify(options.metadata));\n      }\n\n      const headers = { 'Content-Type': 'no-content' };\n      const url = this.systemService.getFileIOUrl() + `${options.entityName}`;\n      let temp_headers = { headers: this.setHeaders(headers) }\n      this.http.post(url, body, temp_headers)\n        .subscribe(res => resolve(res)\n        , err => reject(err));\n    });\n  }\n\n  public download(options: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (options.entityName && (options.metadata || options.fileId)) {\n        this.getFileInfo(options).subscribe((res) => {\n          if (options.metadata) {\n            res = res[res.length - 1];\n          } else {\n            res = res.result;\n          }\n          const fileInfo = {\n            contentType: '',\n            filename: ''\n          };\n          if (res && res['contentType'] && res['filename']) {\n            fileInfo['contentType'] = res['contentType'];\n            fileInfo['filename'] = res['filename'];\n            let fileIOURL = this.systemService.getFileIOUrl();\n            if (options.metadata) {\n              fileIOURL += `${options.entityName}?metadataFilter={\"metadata.key\": \"${options.metadata.key}\"}`;\n            } else {\n              fileIOURL += `${options.entityName}/${options.fileId}`;\n            }\n            const headers = {\n              'Accept': fileInfo.contentType\n            };\n            this.http.get(fileIOURL, { headers: this.setHeaders(headers), responseType: 'blob' }).subscribe((response: any) => {\n              const blob = new Blob([response.body], { type: fileInfo.contentType });\n              this.saveFile(blob, fileInfo.filename).then((resp) => {\n              }).catch(err => reject(err));\n            }, err => reject(err));\n          } else {\n            reject('fileInfo not exit');\n          }\n        }, err => reject(err));\n      } else {\n        return reject('download options not found');\n      }\n    });\n  }\n\n  public saveFile(data: Blob, filename: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (this.systemService.checkDevice() == 'mobile') {\n        const storageLocation = this.systemService.isAndroid() ? cordova.file.externalRootDirectory : cordova.file.documentsDirectory;\n        this.createDirectory(storageLocation, this.appProperties.appName, filename, data)\n          .then(res => resolve(res))\n          .catch(err => reject(err));\n      } else {\n        this.saveToBrowser(data, filename).then(res => resolve(res));\n      }\n    });\n  }\n\n  private saveToBrowser(data: Blob, fileName: string) {\n    return new Promise((resolve) => {\n      // Edge 20+\n      const isEdge = !(/*@cc_on!@*/false || !!document['documentMode']) && !!window.StyleMedia;\n      if (isEdge) {\n        window.navigator.msSaveBlob(data, fileName);\n      } else {\n        const downloadURL = window.URL.createObjectURL(data);\n        const anchor = document.createElement('a');\n        document.body.appendChild(anchor);\n        anchor.style.display = 'none';\n        anchor.download = fileName;\n        anchor.href = downloadURL;\n        anchor.click();\n        window.URL.revokeObjectURL(downloadURL);\n        document.body.removeChild(anchor);\n        anchor.remove();\n      }\n      return resolve('download complete');\n    });\n  }\n\n  private createDirectory(rootDirectory: any, appName: string, fileName: string, data: Blob) {\n    return new Promise((resolve, reject) => {\n      window.resolveLocalFileSystemURL(rootDirectory, (fileSystem) => {\n        fileSystem.getDirectory(appName, { create: true }, (dirEntry) => {\n          this.checkFileExist(dirEntry.nativeURL, fileName, 0, (newFileName) => {\n            dirEntry.getFile(newFileName, { create: true }, (targetFile) => {\n              targetFile.createWriter((fileWriter) => {\n                fileWriter.onwriteend = () => {\n                  return resolve(targetFile.toURL());\n                };\n\n                fileWriter.onerror = (err) => {\n                  return reject(err);\n                };\n                fileWriter.write(data);\n              });\n            });\n          });\n        }, err => reject(err));\n      }, err => reject(err));\n    });\n  }\n\n  private checkFileExist = (path: string, fileName: string, i: number, callback) => {\n    return window.resolveLocalFileSystemURL(path + fileName, () => {\n      let length = 4;\n      if (fileName.lastIndexOf('(') > -1) {\n        const isExist = parseInt(fileName.slice((fileName.lastIndexOf('(') + 1), fileName.lastIndexOf(')')), 10);\n        if (!isNaN(isExist)) {\n          i = isExist + 1;\n          if (i > 10 && i < 100) {\n            length += 1;\n          } else if (i > 100) {\n            length += 2;\n          }\n          fileName = fileName.slice(0, (fileName.lastIndexOf('.') - length)) + ' (' + i + ')' + fileName.slice(fileName.lastIndexOf('.'));\n        } else {\n          i += 1;\n          fileName = fileName.slice(0, (fileName.lastIndexOf('.'))) + fileName.slice(fileName.lastIndexOf('.'));\n          fileName = fileName.slice(0, (fileName.lastIndexOf('.'))) + ' (' + i + ')' + fileName.slice(fileName.lastIndexOf('.'));\n        }\n      } else {\n        i += 1;\n        fileName = fileName.slice(0, (fileName.lastIndexOf('.'))) + fileName.slice(fileName.lastIndexOf('.'));\n        fileName = fileName.slice(0, (fileName.lastIndexOf('.'))) + ' (' + i + ')' + fileName.slice(fileName.lastIndexOf('.'));\n      }\n      return this.checkFileExist(path, fileName, i, callback);\n    }, () => {\n      return callback(fileName);\n    });\n  }\n\n  private setHeaders(headerJSON: Object): HttpHeaders {\n    let headers = new HttpHeaders();\n    for (const key in headerJSON) {\n      if (key) {\n        headers = headers.set(key, headerJSON[key]);\n      }\n    }\n    return headers;\n  }\n\n}\n","export class NDirectiveOptions {\n    quality?: 50;\n    destinationType?: 1 | 2;\n    EncodingType?: 0 | 1;\n    MediaType?: 0 | 1 | 2;\n    PictureSourceType?: 0 | 1 | 2;\n    entityName?: string;\n    metadata?: object;\n    fileId?:string;\n    sourceType?:string; //For ocr and scan\n    doUpload?: false;\n\n    //barcode\n    preferFrontCamera?: false;\n    showFlipCameraButton?: true;\n    showTorchButton?: true;\n    torchOn?: false;\n    saveHistory?: false;\n    prompt?: \"Place a barcode inside the scan area\";\n    resultDisplayDuration?: 1500;\n    formats?: \"DATA_MATRIX,UPC_A,UPC_E,EAN_8,EAN_13,CODE_39,CODE_93,CODE_128,CODABAR,ITF,RSS14,MSI,AZTEC\";\n    orientation?: string;\n    disableAnimations?: true;\n    disableSuccessBeep?: false;\n\n    //video\n    limit?: number;\n    duration?: number;\n\n    //tts\n    text?: string;\n    locale?: string;\n    rate?: number;\n\n    //shake\n    sensitivity?: number;\n    start?:boolean;\n\n    //ocr\n    uriOrBase?:string;\n    returnType?: string;\n\n    //fingerprint\n    clientId?: string;\n    clientSecret?: string;\n}","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\n\ndeclare const navigator: any;\n\nexport interface CameraOptions {\n  quality?: 50;\n  destinationType?: 1 | 2;\n  EncodingType?: 0 | 1;\n  MediaType?: 0 | 1 | 2;\n  PictureSourceType?: 0 | 1 | 2;\n}\n\n@Directive({\n  selector: '[n-camera]'\n})\nexport class NCameraDirective {\n  @Input() cameraOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getPicture()\n      .then(sucess => this.onsuccess.emit(sucess))\n      .catch(error => this.onerror.emit(error));\n  }\n\n  getPicture(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.getPicture(this.cameraOptions).then(res => {\n        const options = {\n          'formData': res,\n          'entityName': this.cameraOptions.entityName,\n          'metadata': this.cameraOptions.metadata\n        };\n        this.fsv.upload(options)\n          .then(uri => resolve(uri))\n          .catch(err => reject(err));\n      }).catch(err => reject(err));\n    });\n  }\n}\n","import { Directive, Input, Output, EventEmitter, HostListener } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\n\n@Directive({ selector: '[n-download]' })\nexport class NDownloadDirective {\n  @Input() downloadOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.downloadFile()\n      .then(res => this.onsuccess.emit(res))\n      .catch(err => this.onerror.emit(err));\n  }\n\n  downloadFile() {\n    return this.fsv.download(this.downloadOptions);\n  }\n}\n","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\n@Directive({\n  selector: '[n-scan]'\n})\nexport class NScanDirective {\n  @Input() scanOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getPicture()\n      .then((sucess) => this.onsuccess.emit(sucess))\n      .catch((error) => this.onerror.emit(error));\n  }\n\n  getPicture(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.scanPicture(this.scanOptions).then(res => {\n\n        if (this.scanOptions.doUpload) {\n          const options = {\n            'formData': res,\n            'entityName': this.scanOptions.entityName,\n            'metadata': this.scanOptions.metadata\n          };\n          this.fsv.upload(options).then(uri => {\n            resolve(uri);\n          }).catch(err => reject(err));\n        }\n        else\n        {\n          resolve(res);\n        }\n      }).catch((err) => {\n        return reject(err);\n      });\n    });\n  }\n}\n","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\n\ndeclare const navigator: any;\n\n@Directive({\n  selector: '[n-video]'\n})\nexport class NVideoDirective {\n  @Input() videoOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getVideo()\n      .then(sucess => this.onsuccess.emit(sucess))\n      .catch(error => this.onerror.emit(error));\n  }\n\n  getVideo(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.getVideo(this.videoOptions).then(res => {\n        const options = {\n          'formData': res,\n          'entityName': this.videoOptions.entityName,\n          'metadata': this.videoOptions.metadata\n        };\n        this.fsv.upload(options)\n          .then(uri => resolve(uri))\n          .catch(err => reject(err));\n      }).catch(err => reject(err));\n    });\n  }\n}\n","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\n\ndeclare const navigator: any;\n\n@Directive({\n  selector: '[n-barcode]'\n})\nexport class NBarcodeDirective {\n  @Input() barcodeOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getBarcode()\n    .then(sucess => this.onsuccess.emit(sucess))\n    .catch(error => this.onerror.emit(error));\n  }\n\n  getBarcode(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.getBarcode(this.barcodeOptions).then(res => {\n        return resolve(res);\n      }).catch(err => reject(err));\n    });\n  }\n}\n","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\ndeclare const navigator: any;\n\n@Directive({\n  selector: '[n-tts]'\n})\nexport class NTtsDirective {\n  @Input() ttsOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getTts()\n      .then(sucess => this.onsuccess.emit(sucess))\n      .catch(error => this.onerror.emit(error));\n  }\n\n  getTts(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.getTts(this.ttsOptions).then(res => {\n        return resolve(res);\n      }).catch(err => reject(err));\n    });\n  }\n}\n","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\n\ndeclare const navigator: any;\n\n@Directive({\n  selector: '[n-fingerprint]'\n})\nexport class NFingerprintDirective {\n  @Input() fingerprintOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getFingerprint()\n      .then(sucess => this.onsuccess.emit(sucess))\n      .catch(error => this.onerror.emit(error));\n  }\n\n  getFingerprint(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.getFingerprint(this.fingerprintOptions).then(res => {\n        return resolve(res);\n      }).catch(err => reject(err));\n    });\n  }\n}\n","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\ndeclare const navigator: any;\n\n@Directive({\n  selector: '[n-ocr]'\n})\nexport class NOcrDirective {\n  @Input() ocrOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getOcr()\n      .then(sucess => this.onsuccess.emit(sucess))\n      .catch(error => this.onerror.emit(error));\n  }\n\n  getOcr(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.getOcr(this.ocrOptions).then(res => {\n        return resolve(res);\n      }).catch(err => reject(err));\n    });\n  }\n}\n","import { Directive, Input, Output, EventEmitter } from '@angular/core';\nimport { HostListener } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\nimport { NDirectiveOptions } from './directive.class';\n\n\ndeclare const navigator: any;\n\n@Directive({\n  selector: '[n-shake]'\n})\nexport class NShakeDirective {\n  @Input() shakeOptions: NDirectiveOptions;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter();\n  @Output() onerror: EventEmitter<any> = new EventEmitter();\n\n  constructor(private fsv: NFileIOService) { }\n\n  @HostListener('click') methodToHandleMouseClickAction() {\n    this.getShake()\n      .then(sucess => this.onsuccess.emit(sucess))\n      .catch(error => this.onerror.emit(error));\n  }\n\n  getShake(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.fsv.getShake(this.shakeOptions).then(res => {\n        return resolve(res);\n      }).catch(err => reject(err));\n    });\n  }\n}\n","import { Component, Input, Output, EventEmitter, ViewChild, Renderer2 } from '@angular/core';\n// import { FileIOService } from '../services/filesystem.service';\nimport { NFileIOService } from '../services/n-fileIO.service';\n\n\n@Component({\n  selector: 'n-file-upload',\n  styleUrls: ['./n-fileUpload.component.scss'],\n  templateUrl: './n-fileUpload.template.html',\n})\nexport class NFileUploadComponent {\n  @ViewChild('fileInput', {static: false}) fileInput;\n  file: File;\n  fileName;\n  isDone: boolean;\n\n  @Input() uploadOptions;\n  @Input('disabled') disableButton;\n  @Output() onsuccess: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onerror: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    private fileIOService: NFileIOService,\n    private _renderer: Renderer2) { }\n\n  /**\n   * Method executed when upload button is clicked.\n   */\n  handleUpload(): void {\n    this.isDone = false;\n    if (this.file && this.uploadOptions && this.uploadOptions.entityName && this.uploadOptions.metadata) {\n      this.fileIOService.upload({ files: this.file, entityName: this.uploadOptions.entityName, metadata: this.uploadOptions.metadata })\n        .then((res) => {\n          this.isDone = true;\n          this.onsuccess.emit(res);\n        })\n        .catch(err => this.onerror.emit(err));\n    } else {\n      this.onerror.emit(new Error('Upload options missing'));\n    }\n  }\n\n  /**\n   * Method executed when a file is selected.\n   */\n  handleSelect(fileInput: any): void {\n    if (fileInput.target.files && fileInput.target.files[0]) {\n      this.file = fileInput.target.files[0];\n      this.fileName = this.file.name;\n    }\n  }\n\n  /**\n   * Methods executed when cancel button is clicked.\n   * Clears files.\n   */\n  cancel(): void {\n    this.file = null;\n    this.fileName = null;\n    this.isDone = false;\n    // check if the file input is rendered before clearing it\n    if (this.fileInput) {\n      this._renderer.setProperty(this.fileInput, 'value', '');\n    }\n  }\n\n  disableFileUploadButton() {\n    if (typeof this.disableButton === 'boolean') {\n      return this.disableButton;\n    }\n    return this.disableButton === 'disabled' || this.disableButton === 'true' ? true : false;\n  }\n\n}\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'n-alert-dialog',\n  templateUrl: './n-alert.template.html',\n  styleUrls: ['./n-alert.style.scss']\n})\n\nexport class NAlertComponent {\n  static title = '';\n  static message = '';\n  messageContent;\n  titleContent;\n  constructor(public dialogRef?: MatDialogRef<NAlertComponent>) {\n    this.messageContent = NAlertComponent.message;\n    this.titleContent = NAlertComponent.title;\n  }\n\n}\n","\nimport { Injectable } from '@angular/core';\nimport { NAlertComponent } from './n-alert.component';\nimport { MatDialog } from '@angular/material';\n\n@Injectable()\nexport class NAlertService {\n    constructor(private dialog: MatDialog) { }\n\n    alert(message, title, data?) {\n        NAlertComponent.message = message;\n        NAlertComponent.title = title;\n        this.dialog.open(NAlertComponent, data);\n    }\n\n}","// import { MatSnackBar } from '@angular/material';\nimport { Component, OnInit, OnChanges, SimpleChanges, Input, EventEmitter, Output } from '@angular/core'\n\n@Component({\n    selector: 'n-toggleoptions',\n    templateUrl: './n-toggleoptions.template.html'\n})\n\nexport class NToggleoptionsComponent implements OnInit, OnChanges {\n    // options = {icon: 'home', value: 'home', disabled: false, 'checked': false}\n    @Input('toggleOptions') toggleOptions = [];\n    @Input('align') align = 'horizontal';\n    @Input('disabledIndex') disabledIndex;\n    @Input('checkedIndex') checkedIndex;\n    @Input('value') value : string;\n    @Output() indexChange = new EventEmitter();\n    @Output() valueChange = new EventEmitter();\n    // constructor(private snackbar: MatSnackBar) {\n    // }\n\n    ngOnInit() {\n        if (this.checkNumber(this.checkedIndex)) {\n            this.checkedIndex = Number(this.checkedIndex);\n        }\n\n        if (this.checkNumber(this.disabledIndex)) {\n            this.disabledIndex = Number(this.disabledIndex);\n        }\n\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['checkedIndex'] && this.checkNumber(this.checkedIndex)) {\n            this.checkedIndex = Number(this.checkedIndex);\n        } else if (changes['disabledIndex'] && this.checkNumber(this.disabledIndex)) {\n            this.disabledIndex = Number(this.disabledIndex);\n        }\n    }\n\n    optionClicked(index) {\n        if (this.toggleOptions && this.toggleOptions.length > 0) {\n            this.indexChange.emit(index);\n            if (this.toggleOptions[index] && this.toggleOptions[index].value) {\n                this.valueChange.emit(this.toggleOptions[index].value);\n            } else {\n                // this.snackbar.open('Invalid toggle button value', 'OK');\n            }\n        } else {\n            // this.snackbar.open('Invalid toggle options', 'OK');\n        }\n    }\n\n    private checkNumber(number) {\n        if (number !== undefined && number !== null) {\n            return Number.isNaN(Number(number));\n        }\n        return false;\n    }\n}\n","/*DEFAULT GENERATED TEMPLATE. DO NOT CHANGE SELECTOR TEMPLATE_URL AND CLASS NAME*/\nimport { Component, AfterViewInit, ViewChild, Input, Output, EventEmitter } from '@angular/core';\nimport * as signing from 'signature_pad';\n// import { MatSnackBar } from '@angular/material';\n/**\n* Model import Example :\n* import { HERO } from '../models/hero.model';\n*/\n\n/**\n * Service import Example :\n * import { HeroService } from '../services/hero/hero.service';\n */\n\n@Component({\n    selector: 'n-signature',\n    templateUrl: './n-signature.template.html',\n    styles: [`\n     :host { height: 100% !important; }\n     .signature-canvas-fullscreen {\n         position: absolute;\n         top: 0;\n         bottom: 0;\n         right: 0;\n         left: 0;\n     }\n     .signature-component-border {\n         border: 2px solid black;\n     }\n    `]\n})\n\nexport class NSignatureComponent implements AfterViewInit {\n\n    imageDataValue = '';\n    private signaturePad: any = '';\n\n    @ViewChild('signaturecanvas', {static: false}) signaturecanvas;\n    @ViewChild('canvasparent', {static: false}) canvasparent;\n\n    @Input('backgroundColor') backgroundColor;\n    @Input('dotSize') dotSize; // (float or function) Radius of a single dot.\n    @Input('minWidth') minWidth; // (float) Minimum width of a line. Defaults to 0.5.\n    @Input('maxWidth') maxWidth; // (float) Maximum width of a line. Defaults to 2.5.\n    @Input('throttle') throttle; // (integer) Draw the next point at most once per every x milliseconds. Set it to 0 to turn off throttling. Defaults to 16.\n    @Input('minDistance') minDistance; // (integer) Add the next point only if the previous one is farther than x pixels. Defaults to 5. \n    @Input('penColor') penColor; // (string) Color used to clear the background. Can be any color format accepted by context.fillStyle. Defaults to \"rgba(0,0,0,0)\" (transparent black). Use a non-transparent color e.g. \"rgb(255,255,255)\" (opaque white) if you'd like to save signatures as JPEG images.\n    @Input('velocityFilterWeight') velocityFilterWeight; // (float) Weight used to modify new velocity based on the previous velocity. Defaults to 0.7.\n    @Input('onBegin') onBegin; // (function) Callback when stroke begin.\n    @Input('onEnd') onEnd; // (function) Callback when stroke end.\n    @Input('mode') mode = 'responsive'; // 'click-fullscreen' or 'responsive'\n    canvasMode = 'responsive'; // 'responsive' or 'fullscreen'\n    private savedData;\n    private previousSavedData;\n    classAbs;\n\n    @Output() imageDataChange = new EventEmitter();\n    @Input()\n    get imageData() {\n        return this.imageDataValue;\n    }\n\n    set imageData(val) {\n        this.imageDataValue = val;\n        if (val || val === '' || this.isDataURL(val)) {\n            this.saveCavas(val);\n        }\n        this.imageDataChange.emit(this.imageDataValue);\n    }\n\n    ngAfterViewInit() {\n        if (this.mode === 'responsive') {\n            this.createCanvas();\n        }\n    }\n\n    createCanvas() {\n        this.fitToContainer(this.signaturecanvas.nativeElement);\n        this.signaturePad = new signing.default(this.signaturecanvas.nativeElement, this.assignOptions());\n    }\n\n    saveCavas(dataUrl?) {\n        if (this.signaturePad) {\n            if (this.signaturePad.isEmpty() || dataUrl === '') {\n                this.savedData = '';\n                this.signaturePad.clear();\n            } else if (this.isDataURL(dataUrl)) {\n                this.signaturePad.fromDataURL(dataUrl);\n                this.savedData = this.signaturePad.toData();\n            } else {\n                this.imageData = this.signaturePad.toDataURL();\n                if (this.mode === 'click-fullscreen') {\n                    this.savedData = this.signaturePad.toData();\n                    this.hideCanvas();\n                }\n            }\n        }\n    }\n\n    clearCanvas() {\n        this.signaturePad.clear();\n        // this.fitToContainer(this.signaturecanvas.nativeElement);\n    }\n\n    undoCanvas() {\n        const data = this.signaturePad.toData();\n\n        if (data) {\n            data.pop(); // remove the last dot or line\n            this.signaturePad.fromData(data);\n        }\n    }\n\n    showCanvas() {\n        this.classAbs = true;\n        this.canvasMode = 'fullscreen';\n        if (!this.signaturePad) {\n            this.createCanvas();\n\n        }\n        this.fitToContainer(this.signaturecanvas.nativeElement, document.body.clientHeight, document.body.clientWidth)\n        this.clearCanvas();\n        this.createCanvasFromData();\n    }\n\n    hideCanvas() {\n        this.canvasMode = 'responsive';\n    }\n\n    // cancel currently drawn\n    cancel() {\n        this.savedData = Object.assign([], this.previousSavedData);\n    }\n\n    createCanvasFromData() {\n        if (this.savedData) {\n            this.previousSavedData = Object.assign({}, this.savedData);\n            this.signaturePad.fromData(this.savedData);\n        }\n    }\n\n    private fitToContainer(element, height?, width?) {\n        element.style.width = '100%';\n        element.style.height = 'calc(100% - 56px)';\n        if (height && width) {\n            element.width = width;\n            element.height = height - 56;\n        } else {\n            element.width = element.offsetWidth;\n            element.height = element.offsetHeight;\n        }\n\n    }\n\n    private assignOptions() {\n        let options = {};\n        options['backgroundColor'] = this.checkIfValidValueAndRGB(this.backgroundColor, 'backgroundColor')\n        options['dotSize'] = this.checkIfValidValueAndNumber(this.dotSize, 'dotSize');\n        options['minWidth'] = this.checkIfValidValueAndNumber(this.minWidth, 'minWidth');\n        options['maxWidth'] = this.checkIfValidValueAndNumber(this.maxWidth, 'maxWidth');\n        options['throttle'] = this.checkIfValidValueAndNumber(this.throttle, 'throttle');\n        options['minDistance'] = this.checkIfValidValueAndNumber(this.minDistance, 'minDistance');\n        options['penColor'] = this.checkIfValidValueAndRGB(this.penColor, 'penColor')\n        options['velocityFilterWeight'] = this.checkIfValidValueAndNumber(this.velocityFilterWeight, 'velocityFilterWeight');\n        options = JSON.parse(JSON.stringify(options)); // removing all undefined fields\n        options['onBegin'] = this.checkIfValidValueAndFunction(this.onBegin, 'onBegin');\n        options['onEnd'] = this.checkIfValidValueAndFunction(this.onEnd, 'onEnd');\n        return options;\n    }\n\n    private checkIfValidValueAndNumber(num, name) {\n        if (this.checkIfValid(num) && this.checkNumber(num)) {\n            return num;\n        }\n        this.invalidToast(name, 'num');\n        return undefined;\n    }\n\n    private checkIfValidValueAndRGB(color, name) {\n        if (this.checkIfValid(color) && this.checkRGB(color)) {\n            return color;\n        }\n        this.invalidToast(name, 'rgb');\n        return undefined;\n    }\n\n    private checkIfValidValueAndFunction(fn, name) {\n        if (this.checkIfValid(fn) && this.checkIfValidFunction(fn)) {\n            return fn;\n        }\n        this.invalidToast(name, 'function format');\n        return undefined;\n    }\n\n    private checkIfValid(value) {\n        return (value !== undefined && value !== null) ? value : undefined;\n    }\n\n    private checkNumber(num) {\n        return !this.checkIsNan(Number(num)) ? Number(num) : undefined;\n    }\n\n    private checkIfValidFunction(fn) {\n        return typeof fn === 'function' ? fn : undefined;\n    }\n\n    private checkRGB(color) {\n        const matchColors1 = new RegExp(/rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/);\n        const matchColors2 = new RegExp(/rgb\\((\\d{1,3}),[ \\t]+(\\d{1,3}),(\\d{1,3})\\)/);\n        const matchColors3 = new RegExp(/rgb\\((\\d{1,3}),(\\d{1,3}),[ \\t]+(\\d{1,3})\\)/)\n        return matchColors1.test(color) || matchColors2.test(color) || matchColors3.test(color);\n    }\n\n    private checkIsNan(value) {\n        return Number.isNaN(value);\n    }\n\n    private invalidToast(optionName, optionType) {\n        switch (optionType) {\n            case 'num':\n                // this.snackbar.open(`Invalid ${optionName} (number or float) given, taking default value instead.`, 'OK');\n                break;\n            case 'rgb':\n                // this.snackbar.open(`Invalid ${optionName} format Eg: rgb(255, 255, 255)  given, taking default value instead.`, 'OK');\n                break;\n        }\n        return;\n    }\n\n    private isDataURL(s) {\n        if (s) {\n            const regex = /^\\s*data:([a-z]+\\/[a-z]+(;[a-z\\-]+\\=[a-z\\-]+)?)?(;base64)?,[a-z0-9\\!\\$\\&\\'\\,\\(\\)\\*\\+\\,\\;\\=\\-\\.\\_\\~\\:\\@\\/\\?\\%\\s]*\\s*$/i;\n            return !!s.match(regex);\n        } else {\n            return false;\n        }\n    }\n}\n","import { Type } from '@angular/core';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\n\n\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { NeutrinosSeedServicesModule } from 'neutrinos-seed-services';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatButtonToggleModule } from '@angular/material';\nimport { NCameraDirective } from './neutrinos-file/directives/n-camera.directive';\nimport { NDownloadDirective } from './neutrinos-file/directives/n-download.directive';\nimport { NScanDirective } from './neutrinos-file/directives/n-scanner.directive';\nimport { NVideoDirective } from './neutrinos-file/directives/n-video.directive';\nimport { NBarcodeDirective } from './neutrinos-file/directives/n-barcode.directive';\nimport { NTtsDirective } from './neutrinos-file/directives/n-tts.directive';\nimport { NFingerprintDirective } from './neutrinos-file/directives/n-fingerprint.directive';\nimport { NOcrDirective } from './neutrinos-file/directives/n-ocr.directive';\nimport { NShakeDirective } from './neutrinos-file/directives/n-shake.directive';\nimport { NFileUploadComponent } from './neutrinos-file/fileUpload/n-fileUpload.component';\nimport { NFileIOService } from './neutrinos-file/services/n-fileIO.service';\nimport { NAlertService } from './neutrinos-components/nAlertComponent/n-alert.service';\n\nimport { NAlertComponent } from './neutrinos-components/nAlertComponent/n-alert.component';\nimport { NToggleoptionsComponent } from './neutrinos-components/nToggleoptionsComponent/n-toggleoptions.component';\nimport { NSignatureComponent } from './neutrinos-components/nSignatureComponent/n-signature.component';\n\n\nconst EXPORTS: Type<any>[] = [\n  NCameraDirective,\n  NDownloadDirective,\n  NScanDirective,\n  NVideoDirective,\n  NBarcodeDirective,\n  NTtsDirective,\n  NFingerprintDirective,\n  NOcrDirective,\n  NShakeDirective,\n  NFileUploadComponent,\n  NAlertComponent,\n  NToggleoptionsComponent,\n  NSignatureComponent,\n];\n\n@NgModule({\n  imports: [\n    HttpClientModule,\n    FormsModule,\n    CommonModule,\n    MatIconModule,\n    MatDialogModule,\n    MatButtonModule,\n    BrowserAnimationsModule,\n    MatButtonToggleModule,\n    NeutrinosSeedServicesModule,\n    FlexLayoutModule,\n  ],\n  declarations: [\n    EXPORTS,\n  ],\n  exports: [\n    EXPORTS,\n    NFileUploadComponent,\n    NeutrinosSeedServicesModule,\n  ],\n  providers: [\n    NFileIOService,\n    NAlertService\n  ],\n  entryComponents: [\n    NAlertComponent\n  ]\n})\nexport class NeutrinosModule {\n\n\n}\n"]}